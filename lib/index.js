"use strict";Object.defineProperty(exports,"__esModule",{value:!0});function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var identity=_interopDefault(require("lodash/identity")),isFunction=_interopDefault(require("lodash/isFunction")),isNull=_interopDefault(require("lodash/isNull")),invariant=_interopDefault(require("invariant")),isPlainObject=_interopDefault(require("lodash/isPlainObject")),reduceReducers=_interopDefault(require("reduce-reducers")),isNil=_interopDefault(require("lodash/isNil")),isUndefined=_interopDefault(require("lodash/isUndefined")),includes=_interopDefault(require("lodash/includes"));function createAction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:identity,n=arguments[2];invariant(isFunction(t)||isNull(t),"Expected payloadCreator to be a function, undefined or null");var r=isNull(t)||t===identity?identity:function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return e instanceof Error?e:t.apply(void 0,[e].concat(r))},o=isFunction(n),i=Symbol(e),u=function(){var t=r.apply(void 0,arguments),u={type:e,key:i};return t instanceof Error&&(u.error=!0),void 0!==t&&(u.payload=t),o&&(u.meta=n.apply(void 0,arguments)),u};return u.toString=function(){return i},u}var createThunkAction=function(e,t,n){var r=createAction(e,null,n);if(!t)return r;var o=function(e){return function(n,o){return n(r(e)),t(e)(n,o)}};return o.toString=r.toString,o},asyncGenerator=function(){function e(e){this.value=e}function t(t){var n,r;function o(n,r){try{var u=t[n](r),a=u.value;a instanceof e?Promise.resolve(a.value).then(function(e){o("next",e)},function(e){o("throw",e)}):i(u.done?"return":"normal",u.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?o(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise(function(i,u){var a={key:e,arg:t,resolve:i,reject:u,next:null};r?r=r.next=a:(n=r=a,o(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function handleAction(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:identity,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[e];invariant(!isUndefined(n),"defaultState for reducer handling "+r.map(function(e){return e.toString()}).join(", ")+" should be defined"),invariant(isFunction(t)||isPlainObject(t),"Expected reducer to be a function or object with next and throw reducers");var o=isFunction(t)?[t,t]:[t.next,t.throw].map(function(e){return isNil(e)?identity:e}),i=slicedToArray(o,2),u=i[0],a=i[1];return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments[1],o=t.key;return o&&includes(r,o)?(!0===t.error?a:u)(e,t):e}}function ownKeys(e){if("undefined"!=typeof Reflect&&"function"==typeof Reflect.ownKeys)return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}function handleActions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};invariant(isPlainObject(e),"Expected handlers to be an plain object.");var n=ownKeys(e).reduce(function(n,r){return n.concat([handleAction(r,e[r],t)])},[]),r=reduceReducers.apply(void 0,toConsumableArray(n));return function(e,n){return r(e||t,n)}}function handleModule(e){var t=e.reducers,n=e.initialState;return t.default?handleActions(t.default||t,n||{}):console.warn("You are attempting to connect a module that doesn't export any default reducers.")}exports.createAction=createAction,exports.handleActions=handleActions,exports.createThunkAction=createThunkAction,exports.handleModule=handleModule;
